(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(9),o=a.n(i),s=(a(16),a(17),a(18),a(2)),c=a(3),r=a(5),u=a(4),m=a(1),h=a(6),v={Cheerful:{value:3,icon:"1f601",action:"rubberBand"},Happy:{value:2,icon:"1f606",action:"tada"},Good:{value:1,icon:"1f600",action:"slideInRight"},Calm:{value:0,icon:"1f607",action:"rotateInUpLeft"},Annoyed:{value:-1,icon:"1f612",action:"wobble"},Frustrated:{value:-2,icon:"1f624",action:"pulse"},Sad:{value:-3,icon:"1f622",action:"fadeInLeft"},Angry:{value:-4,icon:"1f621",action:"shake"}},d=[],f=[];for(var g in v)d[v[g].value]=v[g],d[v[g].value].name=g,f.push(v[g].value);var b=v,E=a(8),p=function(){this.saveEmotion=function(e){var t=new Date,a=E(t,"yyyy-m-d"),n=localStorage.getItem(a);null==n&&(n=""),n+=e+",";try{localStorage.setItem(a,n)}catch(l){22===l.code&&(this.freeUpSpace(),this.saveEmotion(e))}},this.getAllEmotion=function(){var e=[];for(var t in localStorage)localStorage.getItem(t)&&(e[t]=localStorage.getItem(t).split(","));return e},this.getEmotion=function(e){var t=localStorage.getItem(e);return null==t&&(t=""),t=t.split(",")},this.freeUpSpace=function(){var e=this.getAllEmotion(),t=[];for(var a in e)t.push(a);(t=t.sort())[0]&&localStorage.removeItem(t[0])}},y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).db=new p,a.state={selected_element:null,animate_class:""},a.saveEmotion=a.saveEmotion.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"saveEmotion",value:function(e){e.preventDefault();var t=e.target;"IMG"===t.tagName&&(t=t.parentElement.parentElement),"SPAN"===t.tagName&&(t=t.parentElement),this.db.saveEmotion(t.value),this.setState({selected_element:t.getAttribute("data-key"),animate_class:"animated  "+t.getAttribute("data-action")}),t.className="animated heartBeat"}},{key:"render",value:function(){var e=[];for(var t in b)e.push(l.a.createElement("li",{"data-key":t,key:t,value:b[t].value,"data-action":b[t].action,onClick:this.saveEmotion},l.a.createElement("span",null,l.a.createElement("img",{src:"/images/"+b[t].icon+".svg",alt:t})),t));var a=null;return null!=this.state.selected_element&&(a=l.a.createElement("div",{className:"selected-element"},l.a.createElement("h3",null,"Entery saved!"),l.a.createElement("span",{className:this.state.animate_class},l.a.createElement("img",{src:"/images/"+b[this.state.selected_element].icon+".svg",alt:t})),this.state.selected_element),e=null),l.a.createElement("div",{className:"emotions-list"},a,l.a.createElement("ul",null,e),l.a.createElement("div",{className:"clear"}))}}]),t}(l.a.Component),k=(a(19),a(8)),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={today:null,week:null,month:null},a.db=new p,a.updateState=a.updateState.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.db.getAllEmotion(),t=[];for(var a in e)t.push(a);var n=[],l=new Date;a=k(l,"yyyy-m-d");this.db.getEmotion(a).forEach(function(e){d[e]&&n.push(d[e])});for(var i=[],o=0;o<7;o++){(l=new Date).setDate(l.getDate()-o);a=k(l,"yyyy-m-d");var s=this.db.getEmotion(a),c=0;if(null!=s&&(0!=s.length&&""!=s[0])){s.forEach(function(e){e&&(c+=parseInt(e))}),c/=s.length;var r=f.reduce(function(e,t){return Math.abs(t-c)<Math.abs(e-c)?t:e});i.push(d[r])}}console.log(i);var u=[];for(o=0;o<30;o++){(l=new Date).setDate(l.getDate()-o);a=k(l,"yyyy-m-d"),s=this.db.getEmotion(a),c=0;if(null!=s&&(0!=s.length&&""!=s[0])){s.forEach(function(e){e&&(c+=parseInt(e))}),c/=s.length;r=f.reduce(function(e,t){return Math.abs(t-c)<Math.abs(e-c)?t:e});u.push(d[r])}}this.updateState(n,i,u)}},{key:"updateState",value:function(e,t,a){var n=e||this.state.today,l=t||this.state.week,i=a||this.state.month;this.setState({today:n,week:l,month:i})}},{key:"getAverageTag",value:function(e){var t=e;f.includes(t)||(t=f.reduce(function(t,a){return Math.abs(a-e)<Math.abs(t-e)?a:t}));var a=d[t];return l.a.createElement("div",{className:"average"},l.a.createElement("img",{src:"/images/"+a.icon+".svg",alt:a.name}),l.a.createElement("br",null),a.name)}},{key:"getBlock",value:function(e,t){var a=[],n=0;e.forEach(function(e,i){a.push(l.a.createElement("img",{src:"/images/"+e.icon+".svg",alt:e.name,key:e.name+i+t})),n+=parseInt(e.value)});n/=e.length;return l.a.createElement("div",{className:"block",key:"block"+t},l.a.createElement("header",{className:"header"},l.a.createElement("h3",null,t)),l.a.createElement("div",{className:"content"},a),l.a.createElement("footer",null,this.getAverageTag(n)))}},{key:"render",value:function(){var e=[];if(this.state.today&&this.state.today.length>0){var t=this.getBlock(this.state.today,"Today");e.push(t)}if(this.state.week&&this.state.week.length>0){t=this.getBlock(this.state.week,"Week");e.push(t)}if(this.state.month&&this.state.month.length>0){t=this.getBlock(this.state.month,"Month");e.push(t)}return l.a.createElement("div",{className:"dashboard"},e)}}]),t}(l.a.Component),j=(a(20),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={activeTab:0},a.tabClick=a.tabClick.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"tabClick",value:function(e){e.preventDefault();var t=e.target.getAttribute("data-index");this.setState({activeTab:t})}},{key:"render",value:function(){var e=[],t=null,a=this,n="animated slideInLeft";return this.props.tabs.forEach(function(i,o){var s="";a.state.activeTab==o&&(s="active",t=i.element,"animated slideInLeft"===n&&(n="animated slideInRight")),e.push(l.a.createElement("li",{key:i.name,"data-index":o,className:s,onClick:a.tabClick},i.name))}),l.a.createElement("div",{className:"switcher"},l.a.createElement("header",null,l.a.createElement("ul",{className:"items"},e)),l.a.createElement("div",{className:n},t))}}]),t}(l.a.Component));var O=function(){return l.a.createElement(j,{tabs:[{name:"Home",element:l.a.createElement(y,null)},{name:"Logs",element:l.a.createElement(w,null)}]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.60f6f58f.chunk.js.map